<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Community | Mindful Horizons</title>

  <link rel="stylesheet" href="output.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="vendor/fontawesome/css/all.min.css">
</head>

<body class="min-h-screen flex flex-col bg-gradient-to-b from-blue-50 via-primary/10 to-white text-accent">

  <!-- Skip link -->
  <a href="#main-content" class="skip-link">Skip to content</a>

  <!-- Navbar -->
  <custom-navbar></custom-navbar>

  <!-- Main -->
  <main id="main-content" class="flex-1 max-w-5xl mx-auto px-4 md:px-6 py-12 md:py-16">

    <!-- Header -->
    <header class="mb-10 text-center">
      <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/70 border border-primary/30 text-secondary text-sm font-semibold shadow-sm mx-auto">
        <i class="fa-solid fa-heart-circle-check"></i>
        Safe Space • Support • Community
      </span>

      <h1 class="mt-4 text-4xl md:text-5xl font-extrabold text-secondary">
        Find Your Community
      </h1>

      <p class="mt-3 text-gray-600 max-w-2xl mx-auto text-lg">
        Connect with others who understand what you're going through. Share support, tips, and encouragement in a welcoming space.
      </p>
    </header>

    <!-- Hero -->
    <section class="relative overflow-hidden rounded-3xl bg-gradient-to-r from-primary to-secondary p-8 md:p-10 text-white shadow-2xl mb-10">
      <div class="absolute -top-24 -right-24 w-80 h-80 rounded-full bg-white/10 blur-2xl"></div>
      <div class="absolute -bottom-28 -left-28 w-96 h-96 rounded-full bg-black/10 blur-2xl"></div>

      <div class="relative z-10 max-w-3xl mx-auto text-center">
        <h2 class="text-2xl md:text-3xl font-extrabold">Welcome to the Community</h2>
        <p class="mt-2 text-white/90 text-base md:text-lg">
          Join supportive conversations, attend group meetups, and discover events near you.
        </p>

        <div class="mt-5 flex flex-wrap justify-center gap-3">
          <a href="#board" class="inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-white text-secondary font-semibold shadow hover:shadow-md transition">
            <i class="fa-solid fa-message"></i> Community Board
          </a>
          <a href="#groups" class="inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-white/15 border border-white/20 text-white font-semibold hover:bg-white/20 transition">
            <i class="fa-solid fa-users"></i> Support Groups
          </a>
        </div>
      </div>
    </section>

    <!-- Community Board -->
    <section id="board" class="bg-white/80 backdrop-blur rounded-3xl shadow-xl border border-primary/10 overflow-hidden max-w-4xl mx-auto">
      <div class="p-6 md:p-8 border-b border-primary/10 text-center">
        <h2 class="text-2xl md:text-3xl font-extrabold text-secondary">Community Board</h2>
        <div class="w-24 h-1 bg-gradient-to-r from-primary to-secondary rounded-full mx-auto mt-3"></div>
        <p class="text-gray-600 mt-1">Post something kind, helpful, or encouraging.</p>
      </div>

      <div class="p-6 md:p-8">
        <form id="postForm" class="space-y-4">
          <label for="postText" class="block font-semibold text-secondary">Message</label>

          <textarea
            id="postText"
            class="w-full min-h-[120px] px-4 py-3 rounded-2xl border border-gray-200 focus:ring-2 focus:ring-primary bg-white"
            placeholder="Share support, tips, or encouragement..."
            required
          ></textarea>

          <div class="flex flex-wrap items-center gap-3">
            <button type="submit" class="px-6 py-3 rounded-full bg-primary text-white font-semibold shadow hover:brightness-105">
              <i class="fa-solid fa-paper-plane mr-2"></i> Post
            </button>

            <button type="button" id="clearBtn" class="px-5 py-3 rounded-full bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200">
              <i class="fa-solid fa-eraser mr-2"></i> Clear
            </button>

            <span class="ml-auto text-xs text-gray-500">Demo saves to your device</span>
          </div>

          <ul id="posts" class="mt-6 space-y-3" aria-live="polite"></ul>
        </form>
      </div>
    </section>

    <!-- Divider -->
    <div class="my-12 h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"></div>

    <!-- Support Groups -->
    <section id="groups">
      <h2 class="text-2xl md:text-3xl font-extrabold text-secondary text-center mb-2">
        Support Groups
      </h2>
      <p class="text-gray-600 text-center mb-6">Weekly meetups and guided spaces</p>
      <div class="w-24 h-1 bg-gradient-to-r from-primary to-secondary rounded-full mx-auto mb-8"></div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

        <!-- Card -->
        <article class="bg-white rounded-2xl shadow p-6 hover:shadow-lg transition border border-primary/15">
          <h3 class="text-lg font-semibold text-secondary mb-2">Anxiety Support</h3>
          <p class="text-gray-700">Weekly meetings for individuals dealing with anxiety.</p>
          <p class="text-gray-500 text-sm mt-2">Tuesdays • 6–7:30pm</p>
        </article>

        <article class="bg-white rounded-2xl shadow p-6 hover:shadow-lg transition border border-primary/15">
          <h3 class="text-lg font-semibold text-secondary mb-2">Depression Support</h3>
          <p class="text-gray-700">Safe space for sharing and healing.</p>
          <p class="text-gray-500 text-sm mt-2">Thursdays • 7–8:30pm</p>
        </article>

        <article class="bg-white rounded-2xl shadow p-6 hover:shadow-lg transition border border-primary/15">
          <h3 class="text-lg font-semibold text-secondary mb-2">PTSD Support</h3>
          <p class="text-gray-700">Specialized group for trauma survivors.</p>
          <p class="text-gray-500 text-sm mt-2">Mondays • 5–6:30pm</p>
        </article>

      </div>
    </section>

  </main>

  <!-- Footer -->
  <custom-footer></custom-footer>

  <!-- Components -->
  <script src="components/navbar.js" defer></script>
  <script src="components/footer.js" defer></script>

  <!-- Community Board Logic -->
  <script>
    const form = document.getElementById('postForm');
    const list = document.getElementById('posts');
    const clearBtn = document.getElementById('clearBtn');
    const KEY = 'community_posts_v1';

    function getPosts() {
      try { return JSON.parse(localStorage.getItem(KEY)) || []; }
      catch { return []; }
    }

    function setPosts(arr) {
      localStorage.setItem(KEY, JSON.stringify(arr));
    }

    function render(posts) {
      list.innerHTML = '';
      posts.slice().reverse().forEach(text => {
        const li = document.createElement('li');
        li.className = 'bg-white border border-gray-200 rounded-2xl p-4 shadow-sm';
        li.textContent = text;
        list.appendChild(li);
      });
    }

    render(getPosts());

    form.addEventListener('submit', e => {
      e.preventDefault();
      const text = form.postText.value.trim();
      if (!text) return;

      const posts = getPosts();
      posts.push(text);
      setPosts(posts);
      render(posts);
      form.reset();
    });

    clearBtn.addEventListener('click', () => {
      setPosts([]);
      render([]);
    });
  </script>

</body>
</html>
